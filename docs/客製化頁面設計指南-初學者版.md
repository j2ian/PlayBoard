# 客製化頁面設計指南（初學者版）

## 快速開始

創建客製化頁面只需要 3 個檔案：
1. `index.html` - 您的頁面內容
2. `config.json` - 頁面設定
3. 將檔案壓縮成 ZIP 上傳到 PlayBoard

## 必要檔案

### 1. config.json（必須）

```json
{
  "pageInfo": {
    "title": "您的頁面標題",
    "description": "頁面描述"
  },
  "settings": {
    "entryFile": "index.html",
    "autoProgress": false,
    "progressTrigger": "manual"
  }
}
```

### 2. index.html（必須）

基本結構：
```html
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>您的頁面標題</title>
</head>
<body>
    <!-- 您的內容 -->
    
    <!-- 下一步按鈕（必須使用這個 ID） -->
    <button id="nextButton" style="display:none;">下一步</button>
    
    <!-- 引入進度控制腳本（必須） -->
    <script>
        // 貼上下面的 JavaScript 代碼
    </script>
</body>
</html>
```

## 進度控制 JavaScript

將以下代碼直接貼到您的 HTML 中：

```javascript
// PlayBoard 進度控制腳本
class PlayBoardProgress {
    constructor() {
        this.isCompleted = false;
        this.startTime = Date.now();
        this.setupNextButton();
    }
    
    setupNextButton() {
        const nextBtn = document.getElementById('nextButton');
        if (nextBtn) {
            nextBtn.addEventListener('click', () => {
                this.completePage();
            });
        }
    }
    
    // 顯示下一步按鈕
    showNextButton() {
        const nextBtn = document.getElementById('nextButton');
        if (nextBtn) {
            nextBtn.style.display = 'block';
        }
    }
    
    // 完成頁面
    completePage(score = 100, customData = {}) {
        if (this.isCompleted) return;
        
        this.isCompleted = true;
        const timeSpent = Math.round((Date.now() - this.startTime) / 1000);
        
        const progressData = {
            completed: true,
            score: score,
            timeSpent: timeSpent,
            attempts: 1,
            customData: customData
        };
        
        // 發送完成訊息給 PlayBoard
        window.parent.postMessage({
            type: 'CUSTOM_PAGE_PROGRESS',
            action: 'complete',
            data: progressData
        }, '*');
    }
    
    // 更新進度（可選）
    updateProgress(progress, customData = {}) {
        window.parent.postMessage({
            type: 'CUSTOM_PAGE_PROGRESS',
            action: 'update',
            data: {
                progress: progress,
                customData: customData
            }
        }, '*');
    }
}

// 自動初始化
window.playboard = new PlayBoardProgress();
```

## 使用方式

### 基本使用

1. 創建您的 HTML 內容
2. 在需要時調用 `window.playboard.showNextButton()` 顯示下一步按鈕
3. 用戶點擊後自動完成頁面

### 範例：簡單測驗

```html
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>簡單測驗</title>
</head>
<body>
    <h1>測驗題目</h1>
    <p>1 + 1 = ?</p>
    
    <button onclick="checkAnswer(2)">2</button>
    <button onclick="checkAnswer(3)">3</button>
    
    <button id="nextButton" style="display:none;">下一步</button>
    
    <script>
        // 貼上上面的 PlayBoardProgress 代碼
        
        function checkAnswer(answer) {
            if (answer === 2) {
                alert('正確！');
                window.playboard.showNextButton();
            } else {
                alert('錯誤，再試一次');
            }
        }
    </script>
</body>
</html>
```

## 檔案命名規範

- 檔案名稱：只能使用英文字母、數字、連字符(-)、底線(_)
- 不能使用：空格、中文、特殊符號
- 建議：全部小寫，例如 `my-page.html`

## 打包上傳

1. 將所有檔案放在同一個資料夾
2. 壓縮成 ZIP 檔案
3. 在 PlayBoard 管理後台上傳

## 常見問題

**Q: 下一步按鈕沒有出現？**
A: 確認您調用了 `window.playboard.showNextButton()`

**Q: 頁面無法載入？**
A: 檢查檔案名稱是否包含特殊字符，確認 `index.html` 在根目錄

**Q: 進度沒有更新？**
A: 確認您使用了正確的 ID `nextButton`，並且引入了進度控制腳本
